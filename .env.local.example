# Copy this file to `.env.local` and fill in the values.
# Do NOT commit your real .env.local to git.

# NOTE: For Codespaces, you do NOT need to hard-code any forwarded-port URLs.
# The UI calls Next.js API routes on the same origin, and the server-side routes proxy to services over localhost.

# Firebase web app config (from Firebase Console -> Project Settings -> SDK setup)
NEXT_PUBLIC_FIREBASE_API_KEY="AIzaSyCNRedHs7C9K9jYMM4y7Mciwf5fmf4f_nY"
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN="coursellm-firebase-llmrnd.firebaseapp.com"
NEXT_PUBLIC_FIREBASE_PROJECT_ID="coursellm-firebase-llmrnd"
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET="coursellm-firebase-llmrnd.firebasestorage.app"
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID="807043292106"
NEXT_PUBLIC_FIREBASE_APP_ID="1:807043292106:web:6e6c98810275113de2cd33"

# --- Emulator mode (local dev) ---
# When enabled, the browser SDK connects to Firebase emulators.
# IMPORTANT: do not mix Auth emulator with production Firestore.
NEXT_PUBLIC_USE_FIREBASE_EMULATORS=false
NEXT_PUBLIC_FIREBASE_EMULATOR_HOST=127.0.0.1
NEXT_PUBLIC_FIREBASE_AUTH_EMULATOR_PORT=9099
# Firestore emulator port is set in firebase.json (we use 8081 to avoid clashing with search-service on 8080).
NEXT_PUBLIC_FIRESTORE_EMULATOR_PORT=8081
NEXT_PUBLIC_FIREBASE_STORAGE_EMULATOR_PORT=9199
NEXT_PUBLIC_ENABLE_DATACONNECT=false


# Server-side SDKs (Next.js API routes, Python services) use these env vars to talk to emulators.
FIREBASE_AUTH_EMULATOR_HOST=127.0.0.1:9099
FIRESTORE_EMULATOR_HOST=127.0.0.1:8081
FIREBASE_STORAGE_EMULATOR_HOST=127.0.0.1:9199

# --- Internal service URLs (server-only) ---
# Local dev defaults (used by Makefile/scripts):
SEARCH_SERVICE_INTERNAL_BASE_URL=http://127.0.0.1:8080
RAG_SERVICE_BASE_URL=http://127.0.0.1:8002

# Gemini API key (server-only) for /api/rag-summary.
GEMINI_API_KEY=<your_gemini_api_key_here>


# --- Firebase Admin (server-only) ---
# Required for:
# - /api/test-token (demo seeding)
# - server-side verification of Firebase ID tokens in /api/search, /api/rag-summary, /api/rag-chat
#
# Recommended: store the service account JSON in secrets/firebase-admin.json and point to it.
FIREBASE_SERVICE_ACCOUNT_PATH=./secrets/firebase-admin.json
FIREBASE_PROJECT_ID="coursellm-firebase-llmrnd"

# Enable test auth endpoint for local demo tooling (do NOT enable in production).
ENABLE_TEST_AUTH=false

# Notes:
# - Next dev server runs on port 9003 by default in this repo (see package.json).
# - Add http://localhost:9003 (and/or your Codespaces forwarded URL) to Firebase Auth "Authorized domains" if needed.